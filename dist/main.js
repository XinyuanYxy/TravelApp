var Client;(()=>{"use strict";var e={d:(t,n)=>{for(var d in n)e.o(n,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:n[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{generateCard:()=>i,generateCountdown:()=>o,generateHtml:()=>a,handleSubmit:()=>d,postCardData:()=>u,postFormData:()=>l,retrieveData:()=>m,sendData:()=>r,timer:()=>n});let n={};async function d(e){e.preventDefault(),l();const t=document.getElementById("planlist"),n=document.getElementById("planlist").childElementCount+1,d=await Client.retrieveData(n),a=i(n,d);t.appendChild(a),o(d.time,n),document.getElementById(`img${n}`).src=d.image}const i=(e,t={})=>{let n=document.createElement("li");return n.innerHTML=a(e,t),n},o=(e,t)=>{let d=new Date(e).getTime();const i=document.getElementById(`cardcountdown${t}`);i.innerHTML="counting",d&&(n["${id}"]=setInterval((function(){let e=(new Date).getTime(),t=d-e,o=Math.floor(t/864e5),a=Math.floor(t%864e5/36e5),r=Math.floor(t%36e5/6e4),l=Math.floor(t%6e4/1e3);if(t<0)return clearInterval(n),"EXPIRED";i.innerHTML=`${o} d ${a} h ${r} m ${l} s`}),1e3)),i.innerHTML="You have not put depart time yet!"},a=(e,t={})=>`<div id = "${e}" class="card" >\n\t<div ><img id = "img${e}" alt="no img since you have not put city yet"> </div>\n\t<h5>Days left: </h5>\n\t<div id="cardcountdown${e}"> Counting... </div>\n\t<h5>Depart Time: </h5>\n\t<div id="cardtime${e}"> ${""===t.time?"You have not put any depart time yet":t.time}\n\t </div>\n\t<h5>City: </h5>\n\t<div id="cardcity${e}">${""===t.city?"you have not put city yet ":t.city} </div>\n\t<h5>Country: </h5>\n\t<div id="cardcountry${e}">${""===t.country?"you have not put country yet":t.country}</div>\n\t<h5>Temperature Now: </h5>\n\t<div id="cardcurtemp${e}">${void 0===t.currentWeather?"you have not put city yet or check your spelling":t.currentWeather}</div>\n\t<h5>Temperature In Future: </h5>\n\t<div id="cardfuturetemp${e}"> ${void 0===t.futureWeather?"you have not put city yet or check your spelling":t.futureWeather}</div>\n\t<h5>Flight Time: </h5>\n\t<div id="cardftime${e}">${""===t.fTime?"you have not put flight time yet":t.fTime} </div>\n\t<h5>Flight Number: </h5>\n\t<div id="cardfnum${e}">${""===t.fNum?"you have not put flight number yet":t.fNum}</div>\n\t<h5>Flight Destination: </h5>\n\t<div id="cardfdes${e}">${""===t.fDes?"you have not put flight destination yet":t.fDes}</div>\n\t<h5>Lodging: </h5>\n\t<div id="cardlodging${e}">${""===t.lodging?"you have not put lodging yet":t.lodging}</div>\n\t<h5>Items: </h5>\n\t<div id="carditems${e}">${""===t.items?"you have not put items yet":t.items}</div>\n\t<h5>Notes: </h5>\n\t<div id="cardnotes${e}">${""===t.notes?"you have not put notes yet":t.notes}</div>\n\t<div id = "cardbtn${e}">\n\t<button>Edit</button>\n\t<button>Delete</button>\n\t</div>\n\n    </div>\n\t`,r=async(e,t={})=>{await axios.post(`/add/${e}`,t)},l=async()=>{const e=document.getElementById("city").value,t=document.getElementById("planlist").childElementCount,n=document.getElementById("country").value,d=document.getElementById("time").value,i=document.getElementById("flighttime").value,o=document.getElementById("flightnumber").value,a=document.getElementById("flightdes").value,l=document.getElementById("lodging").value,u=document.getElementById("items").value,m=document.getElementById("notes").value;r(`${t+1}`,{city:e,country:n,time:d,fTime:i,fNum:o,fDes:a,lodging:l,items:u,notes:m})},u=async e=>{document.getElementById("id");const t=document.getElementById(`cardcity${e}`).value,n=document.getElementById(`cardcountry${e}`).value,d=document.getElementById(`cardtime${e}`).value,i=document.getElementById(`cardftime${e}`).value,o=document.getElementById(`cardfnum${e}`).value,a=document.getElementById(`cardfdes${e}`).value,l=document.getElementById(`cardlodging${e}`).value,u=document.getElementById(`carditems${e}`).value,m=document.getElementById(`cardnotes${e}`).value;r(e,{city:t,country:n,time:d,fTime:i,fNum:o,fDes:a,lodging:l,items:u,notes:m})},m=async e=>{try{return(await axios.get(`/getStorageData/${e}`)).data}catch(e){console.log(e)}};document.getElementById("planlist").addEventListener("click",(async e=>{if("BUTTON"===e.target.tagName){const t=e.target,d=t.parentNode.parentNode,a=d.parentNode,r=d.childNodes,l=d.id;document.getElementById("city");if("Delete"===t.textContent)a.removeChild(d),clearInterval(n["${id}"]);else if("Edit"===t.textContent){clearInterval(n["${id}"]);for(let e=3;e<r.length;e++){let t=r[e];if(console.log(t),"DIV"===t.nodeName&&t.id!==`cardbtn${l}`){let n=document.createElement("input");t.id===`cardtime${l}`?n.type="date":t.id===`cardftime${l}`?n.type="time":(n.type="text",n.value=r[e].textContent),n.id=t.id,d.insertBefore(n,r[e]),d.removeChild(t)}}t.textContent="Save"}else if("Save"===t.textContent){clearInterval(n["${id}"]),u(l);const e=await Client.retrieveData(l),r=i(l,e);a.insertBefore(r,d),a.removeChild(d),o(e.time,l),document.getElementById(`img${l}`).src=e.image,t.textContent="Edit"}}})),Client=t})();
//# sourceMappingURL=main.js.map